<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ElectroHome - Premium Appliance Store</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #8b1e1e;
            --secondary: #e53935;
            --accent: #ff4d4f;
            --light: #f6e9e9;
            --dark: #4a0f0f;
            --success: #27ae60;
            --warning: #f39c12;
            --shadow: 0 5px 15px rgba(0,0,0,0.1);
            --radius: 10px;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: white;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
        }

        .logo i {
            color: var(--secondary);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        .nav-menu a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        .nav-menu a:hover {
            color: var(--secondary);
        }

        .nav-menu a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--secondary);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .cart-icon, .user-icon {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .cart-icon:hover, .user-icon:hover {
            transform: translateY(-2px);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-name {
            font-weight: 500;
            color: var(--primary);
        }

        /* Main Content Styles */
        .main-content {
            min-height: calc(100vh - 150px);
            padding: 30px 0;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 80px 0;
            border-radius: var(--radius);
            margin-bottom: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80') center/cover;
            opacity: 0.1;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero p {
            font-size: 20px;
            max-width: 700px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .btn {
            padding: 12px 30px;
            background-color: var(--accent);
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            background-color: #c62828;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(198, 40, 40, 0.35);
        }

        .btn-secondary {
            background-color: transparent;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background-color: white;
            color: var(--primary);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
        }

        /* Product Grid */
        .section-title {
            font-size: 28px;
            margin-bottom: 20px;
            color: var(--primary);
            border-left: 5px solid var(--secondary);
            padding-left: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .product-card {
            background-color: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: var(--accent);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            z-index: 2;
        }

        .product-img {
            height: 200px;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .product-card:hover .product-img img {
            transform: scale(1.05);
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            height: 50px;
            overflow: hidden;
        }

        .product-price {
            color: var(--accent);
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .product-rating {
            color: var(--warning);
            margin-bottom: 15px;
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .add-to-cart {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .add-to-cart:hover {
            background-color: #2980b9;
        }

        .wishlist {
            color: #ccc;
            cursor: pointer;
            transition: color 0.3s;
        }

        .wishlist.active {
            color: var(--accent);
        }

        /* Auth Forms */
        .auth-container {
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--shadow);
        }

        .auth-title {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary);
            font-size: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        .auth-toggle {
            text-align: center;
            margin-top: 20px;
            color: #666;
        }

        .auth-toggle a {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 500;
        }

        .auth-toggle a:hover {
            text-decoration: underline;
        }

        .user-type-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .user-type-btn {
            flex: 1;
            padding: 12px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .user-type-btn.active {
            border-color: var(--secondary);
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--secondary);
        }

        /* Cart Page */
        .cart-container {
            background-color: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .cart-item {
            display: flex;
            padding: 20px 0;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .cart-item-img {
            width: 120px;
            height: 120px;
            background-color: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-right: 20px;
        }

        .cart-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: var(--accent);
            font-weight: 700;
            font-size: 20px;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: #f1f1f1;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .quantity-btn:hover {
            background-color: #e0e0e0;
        }

        .remove-item {
            color: var(--accent);
            cursor: pointer;
            transition: color 0.3s;
        }

        .remove-item:hover {
            color: #c62828;
        }

        .cart-summary {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .summary-total {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            border-top: 2px solid #eee;
            padding-top: 15px;
            margin-top: 15px;
        }

        /* Checkout Page */
        .checkout-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
        }

        .checkout-form {
            background-color: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .checkout-summary {
            background-color: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .form-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .section-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary);
            border: none;
            padding: 0;
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-method:hover {
            border-color: var(--secondary);
        }

        .payment-method.selected {
            border-color: var(--secondary);
            background-color: rgba(229, 57, 53, 0.06);
        }

        .payment-icon {
            font-size: 24px;
        }

        .credit-card {
            color: var(--primary);
        }

        .paypal {
            color: #003087;
        }

        .cod {
            color: var(--success);
        }

        /* Admin Dashboard */
        .admin-container {
            display: flex;
            gap: 30px;
        }

        .admin-sidebar {
            width: 250px;
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            height: fit-content;
        }

        .admin-content {
            flex: 1;
            background-color: white;
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: var(--shadow);
        }

        .admin-nav {
            list-style: none;
        }

        .admin-nav li {
            margin-bottom: 10px;
        }

        .admin-nav a {
            display: block;
            padding: 12px 15px;
            text-decoration: none;
            color: var(--dark);
            border-radius: 5px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-nav a:hover, .admin-nav a.active {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--secondary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 14px;
        }

        /* Orders Table */
        .orders-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .orders-table th, .orders-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .orders-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--primary);
        }

        .status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-completed {
            background-color: #d4edda;
            color: #155724;
        }

        .status-shipped {
            background-color: #cce5ff;
            color: #004085;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--radius);
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 24px;
            color: var(--primary);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }

        /* Footer */
        footer {
            background-color: var(--primary);
            color: white;
            padding: 40px 0;
            margin-top: 60px;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: white;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 10px;
        }

        .footer-column a {
            color: #bdc3c7;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #34495e;
            color: #bdc3c7;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }

            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
            }

            .admin-container, .checkout-container {
                flex-direction: column;
            }

            .admin-sidebar, .checkout-summary {
                width: 100%;
            }

            .hero h1 {
                font-size: 36px;
            }

            .hero p {
                font-size: 18px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Search Bar */
        .search-container {
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            padding-right: 40px;
            border: 1px solid #ddd;
            border-radius: 20px;
            font-size: 14px;
        }

        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <a href="#" class="logo" onclick="showPage('home')">
                <i class="fas fa-bolt"></i>
                <span>ElectroHome</span>
            </a>
            
            <ul class="nav-menu">
                <li><a href="#" class="active" onclick="showPage('home')">Home</a></li>
                <li><a href="#" onclick="showPage('products')">Products</a></li>
                <li><a href="#" onclick="showPage('categories')">Categories</a></li>
                <li><a href="#" onclick="showPage('deals')">Hot Deals</a></li>
                <li><a href="#" onclick="showPage('contact')">Contact</a></li>
            </ul>
            
            <div class="header-actions">
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search appliances..." id="search-input">
                    <button class="search-btn" onclick="searchProducts()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <div class="user-icon" onclick="showUserMenu()">
                    <i class="fas fa-user-circle" style="font-size: 24px;"></i>
                    <span id="user-display-name" class="user-name" style="margin-left: 5px;"></span>
                </div>
                <div class="cart-icon" onclick="showPage('cart')">
                    <i class="fas fa-shopping-cart" style="font-size: 24px;"></i>
                    <div class="cart-count">0</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content container">
        <!-- Home Page -->
        <div id="home-page" class="page active">
            <div class="hero">
                <div class="hero-content">
                    <h1>Smart Living Starts Here</h1>
                    <p>Discover our premium collection of energy-efficient home appliances designed for modern living.</p>
                    <a href="#" class="btn" onclick="showPage('products')">Shop Now</a>
                    <a href="#" class="btn btn-secondary" onclick="showPage('deals')">View Deals</a>
                </div>
            </div>

            <h2 class="section-title">Featured Products <span style="font-size: 14px; color: #666; font-weight: normal;">Premium Selection</span></h2>
            <div class="products-grid" id="featured-products">
                <!-- Featured products will be loaded here -->
            </div>

            <div style="margin-top: 50px;">
                <h2 class="section-title">Shop by Category</h2>
                <div class="products-grid" id="home-categories">
                    <!-- Categories will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Products Page -->
        <div id="products-page" class="page">
            <h2 class="section-title">All Products <span style="font-size: 14px; color: #666; font-weight: normal;" id="product-count"></span></h2>
            <div class="products-grid" id="all-products">
                <!-- All products will be loaded here -->
            </div>
        </div>

        <!-- Categories Page -->
        <div id="categories-page" class="page">
            <h2 class="section-title">Product Categories</h2>
            <div class="products-grid" id="categories-list">
                <!-- Categories will be loaded here -->
            </div>
        </div>

        <!-- Deals Page -->
        <div id="deals-page" class="page">
            <h2 class="section-title">Hot Deals <span style="font-size: 14px; color: var(--accent); font-weight: normal;">Limited Time Offers</span></h2>
            <div class="products-grid" id="deals-products">
                <!-- Deals products will be loaded here -->
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cart-page" class="page">
            <h2 class="section-title">Your Shopping Cart</h2>
            <div class="cart-container">
                <div id="cart-items">
                    <!-- Cart items will be loaded here -->
                </div>
                <div class="cart-summary">
                    <div class="summary-item">
                        <span>Subtotal:</span>
                        <span>₱<span id="cart-subtotal">0.00</span></span>
                    </div>
                    <div class="summary-item">
                        <span>Shipping:</span>
                        <span>₱<span id="cart-shipping">0.00</span></span>
                    </div>
                    <div class="summary-item">
                        <span>Tax:</span>
                        <span>₱<span id="cart-tax">0.00</span></span>
                    </div>
                    <div class="summary-total">
                        <span>Total:</span>
                        <span>₱<span id="cart-total">0.00</span></span>
                    </div>
                    <button class="btn" style="width: 100%; margin-top: 20px; padding: 15px;" onclick="showPage('checkout')" id="checkout-btn">Proceed to Checkout</button>
                </div>
            </div>
        </div>

        <!-- Checkout Page -->
        <div id="checkout-page" class="page">
            <h2 class="section-title">Checkout</h2>
            <div class="checkout-container">
                <div class="checkout-form">
                    <div class="form-section">
                        <h3 class="section-title">Shipping Information</h3>
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-input" id="checkout-name" placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email Address</label>
                            <input type="email" class="form-input" id="checkout-email" placeholder="john@example.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Phone Number</label>
                            <input type="tel" class="form-input" id="checkout-phone" placeholder="(123) 456-7890">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Address</label>
                            <input type="text" class="form-input" id="checkout-address" placeholder="123 Main St">
                        </div>
                        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label class="form-label">City</label>
                                <input type="text" class="form-input" id="checkout-city" placeholder="New York">
                            </div>
                            <div class="form-group">
                                <label class="form-label">State</label>
                                <input type="text" class="form-input" id="checkout-state" placeholder="NY">
                            </div>
                        </div>
                        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div class="form-group">
                                <label class="form-label">ZIP Code</label>
                                <input type="text" class="form-input" id="checkout-zip" placeholder="10001">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Country</label>
                                <select class="form-input" id="checkout-country">
                                    <option value="US">United States</option>
                                    <option value="CA">Canada</option>
                                    <option value="UK">United Kingdom</option>
                                    <option value="AU">Australia</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">Shipping Method</h3>
                        <div class="payment-methods">
                            <div class="payment-method" onclick="selectShipping('standard')" id="shipping-standard">
                                <div class="payment-icon">
                                    <i class="fas fa-truck"></i>
                                </div>
                                <div>
                                    <div style="font-weight: 600;">Standard Shipping</div>
                                    <div style="font-size: 14px; color: #666;">5-7 business days</div>
                                </div>
                                <div style="margin-left: auto; font-weight: 600;">₱9.99</div>
                            </div>
                            <div class="payment-method" onclick="selectShipping('express')" id="shipping-express">
                                <div class="payment-icon">
                                    <i class="fas fa-shipping-fast"></i>
                                </div>
                                <div>
                                    <div style="font-weight: 600;">Express Shipping</div>
                                    <div style="font-size: 14px; color: #666;">2-3 business days</div>
                                </div>
                                <div style="margin-left: auto; font-weight: 600;">₱19.99</div>
                            </div>
                            <div class="payment-method" onclick="selectShipping('overnight')" id="shipping-overnight">
                                <div class="payment-icon">
                                    <i class="fas fa-rocket"></i>
                                </div>
                                <div>
                                    <div style="font-weight: 600;">Overnight Shipping</div>
                                    <div style="font-size: 14px; color: #666;">Next business day</div>
                                </div>
                                <div style="margin-left: auto; font-weight: 600;">₱29.99</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">Payment Method</h3>
                        <div class="payment-methods">
                            <div class="payment-method" onclick="selectPayment('credit')" id="payment-credit">
                                <div class="payment-icon credit-card">
                                    <i class="far fa-credit-card"></i>
                                </div>
                                <div style="font-weight: 600;">Credit/Debit Card</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment('paypal')" id="payment-paypal">
                                <div class="payment-icon paypal">
                                    <i class="fab fa-paypal"></i>
                                </div>
                                <div style="font-weight: 600;">PayPal</div>
                            </div>
                            <div class="payment-method" onclick="selectPayment('cod')" id="payment-cod">
                                <div class="payment-icon cod">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div style="font-weight: 600;">Cash on Delivery</div>
                            </div>
                        </div>

                        <div id="credit-card-form" style="margin-top: 20px; display: none;">
                            <div class="form-group">
                                <label class="form-label">Card Number</label>
                                <input type="text" class="form-input" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
                            </div>
                            <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div class="form-group">
                                    <label class="form-label">Expiry Date</label>
                                    <input type="text" class="form-input" id="card-expiry" placeholder="MM/YY" maxlength="5">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">CVV</label>
                                    <input type="text" class="form-input" id="card-cvv" placeholder="123" maxlength="3">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Cardholder Name</label>
                                <input type="text" class="form-input" id="card-name" placeholder="John Doe">
                            </div>
                        </div>
                    </div>

                    <button class="btn" style="width: 100%; padding: 15px; font-size: 16px;" onclick="placeOrder()">Place Order</button>
                </div>

                <div class="checkout-summary">
                    <h3 class="section-title">Order Summary</h3>
                    <div id="checkout-items">
                        <!-- Order items will be loaded here -->
                    </div>
                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #eee;">
                        <div class="summary-item">
                            <span>Subtotal:</span>
                            <span>₱<span id="checkout-subtotal">0.00</span></span>
                        </div>
                        <div class="summary-item">
                            <span>Shipping:</span>
                            <span>₱<span id="checkout-shipping">0.00</span></span>
                        </div>
                        <div class="summary-item">
                            <span>Tax:</span>
                            <span>₱<span id="checkout-tax">0.00</span></span>
                        </div>
                        <div class="summary-total">
                            <span>Total:</span>
                            <span>₱<span id="checkout-total">0.00</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="about-page" class="page">
            <div class="auth-container">
                <h2 class="auth-title">About ElectroHome</h2>
                <p>ElectroHome is your premier destination for high-quality home appliances. With over 20 years of experience in the industry, we provide the latest and most efficient appliances for modern homes.</p>
                <p>Our mission is to make your home life easier, more comfortable, and energy-efficient with our carefully curated selection of products from top brands.</p>
                <p>We offer competitive prices, excellent customer service, and fast delivery to your doorstep.</p>
            </div>
        </div>

        <!-- Contact Page -->
        <div id="contact-page" class="page">
            <div class="auth-container">
                <h2 class="auth-title">Contact Us</h2>
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <input type="text" class="form-input" id="contact-name">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="contact-email">
                </div>
                <div class="form-group">
                    <label class="form-label">Message</label>
                    <textarea class="form-input" rows="5" id="contact-message"></textarea>
                </div>
                <button class="btn" style="width: 100%;" onclick="sendMessage()">Send Message</button>
            </div>
        </div>

        <!-- Authentication Page -->
        <div id="auth-page" class="page">
            <div class="auth-container">
                <h2 class="auth-title" id="auth-title">Login to Your Account</h2>
                
                <div class="user-type-selector">
                    <div class="user-type-btn active" id="customer-btn" onclick="setUserType('customer')">Customer</div>
                    <div class="user-type-btn" id="admin-btn" onclick="setUserType('admin')">Admin</div>
                </div>
                
                <div id="login-form">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="login-email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="login-password">
                    </div>
                    <button class="btn" style="width: 100%;" onclick="login()">Login</button>
                    <div class="auth-toggle">
                        Don't have an account? <a href="#" onclick="toggleAuthForm()">Sign up</a>
                    </div>
                </div>
                
                <div id="signup-form" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-input" id="signup-name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="signup-email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="signup-password">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-input" id="signup-confirm">
                    </div>
                    <button class="btn" style="width: 100%;" onclick="signup()">Create Account</button>
                    <div class="auth-toggle">
                        Already have an account? <a href="#" onclick="toggleAuthForm()">Login</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-page" class="page">
            <h2 class="section-title">Admin Dashboard <span style="font-size: 14px; color: #666; font-weight: normal;">Welcome, Admin</span></h2>
            <div class="admin-container">
                <div class="admin-sidebar">
                    <ul class="admin-nav">
                        <li><a href="#" class="active" onclick="showAdminSection('dashboard')"><i class="fas fa-tachometer-alt"></i>Dashboard</a></li>
                        <li><a href="#" onclick="showAdminSection('products')"><i class="fas fa-box"></i>Manage Products</a></li>
                        <li><a href="#" onclick="showAdminSection('orders')"><i class="fas fa-shopping-cart"></i>Manage Orders</a></li>
                        <li><a href="#" onclick="showAdminSection('users')"><i class="fas fa-users"></i>Manage Users</a></li>
                        <li><a href="#" onclick="showAdminSection('reports')"><i class="fas fa-chart-bar"></i>Reports</a></li>
                        <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i>Logout</a></li>
                    </ul>
                </div>
                
                <div class="admin-content">
                    <!-- Admin Dashboard Content -->
                    <div id="admin-dashboard">
                        <h3>Overview</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="total-orders">0</div>
                                <div class="stat-label">Total Orders</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-revenue">₱0</div>
                                <div class="stat-label">Total Revenue</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-products">0</div>
                                <div class="stat-label">Products</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-users">0</div>
                                <div class="stat-label">Users</div>
                            </div>
                        </div>
                        
                        <h3>Recent Orders</h3>
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Date</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="recent-orders">
                                <!-- Recent orders will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Manage Products -->
                    <div id="admin-products" style="display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Manage Products</h3>
                            <button class="btn" onclick="showAddProductModal()">Add New Product</button>
                        </div>
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Category</th>
                                    <th>Price</th>
                                    <th>Stock</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-products-list">
                                <!-- Products list for admin -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Manage Orders -->
                    <div id="admin-orders" style="display: none;">
                        <h3>Manage Orders</h3>
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Date</th>
                                    <th>Items</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-orders-list">
                                <!-- Orders list for admin -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Manage Users -->
                    <div id="admin-users" style="display: none;">
                        <h3>Manage Users</h3>
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Type</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="admin-users-list">
                                <!-- Users list for admin -->
                            </tbody>
                        </table>
                    </div>

                    <!-- Reports -->
                    <div id="admin-reports" style="display: none;">
                        <h3>Sales Reports</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="today-sales">₱0</div>
                                <div class="stat-label">Today's Sales</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="week-sales">₱0</div>
                                <div class="stat-label">This Week</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="month-sales">₱0</div>
                                <div class="stat-label">This Month</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="avg-order">₱0</div>
                                <div class="stat-label">Avg. Order Value</div>
                            </div>
                        </div>
                        <h3 style="margin-top: 30px;">Top Products</h3>
                        <table class="orders-table">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Sold</th>
                                    <th>Revenue</th>
                                    <th>Stock</th>
                                </tr>
                            </thead>
                            <tbody id="top-products">
                                <!-- Top products will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Order Confirmation Modal -->
    <div class="modal" id="order-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Order Confirmed!</h3>
                <button class="close-modal" onclick="closeModal('order-modal')">&times;</button>
            </div>
            <div style="text-align: center; padding: 20px 0;">
                <div style="font-size: 60px; color: var(--success); margin-bottom: 20px;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3 style="margin-bottom: 10px; color: var(--primary);">Thank You for Your Order!</h3>
                <p>Your order has been placed successfully.</p>
                <p style="font-weight: 600; margin-top: 15px;">Order ID: <span id="order-id-display"></span></p>
                <p>Total: ₱<span id="order-total-display"></span></p>
                <p style="margin-top: 20px; color: #666;">You will receive a confirmation email shortly.</p>
            </div>
            <button class="btn" style="width: 100%;" onclick="closeModal('order-modal'); showPage('home');">Continue Shopping</button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Product added to cart!</span>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container footer-container">
            <div class="footer-column">
                <h3>ElectroHome</h3>
                <p>Your trusted partner for premium home appliances since 2003.</p>
                <div style="display: flex; gap: 15px; margin-top: 15px;">
                    <a href="#" style="color: white; font-size: 20px;"><i class="fab fa-facebook"></i></a>
                    <a href="#" style="color: white; font-size: 20px;"><i class="fab fa-twitter"></i></a>
                    <a href="#" style="color: white; font-size: 20px;"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#" onclick="showPage('home')">Home</a></li>
                    <li><a href="#" onclick="showPage('products')">Products</a></li>
                    <li><a href="#" onclick="showPage('categories')">Categories</a></li>
                    <li><a href="#" onclick="showPage('deals')">Hot Deals</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#" onclick="showPage('contact')">Contact Us</a></li>
                    <li><a href="#">Shipping Policy</a></li>
                    <li><a href="#">Return Policy</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Info</h3>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> Talaga Proper, Mabini, Batangas</li>
                    <li><i class="fas fa-phone"></i> +63 924 867 5309</li>
                    <li><i class="fas fa-envelope"></i> electrohome@gmail.com</li>
                    <li><i class="fas fa-clock"></i> Mon-Fri: 9AM-6PM</li>
                </ul>
            </div>
        </div>
        <div class="container copyright">
            <p>&copy; 2025 ElectroHome. All rights reserved. | Designed with <i class= " style="color: var(--accent);"></i> for smart homes</p>
        </div>
    </footer>

    <script>
        // Application State
        let currentUser = null;
        let cart = [];
        let products = [];
        let categories = [];
        let users = [];
        let orders = [];
        let currentUserType = 'customer';
        let selectedShipping = 'standard';
        let selectedPayment = 'credit';
        let shippingRates = {
            'standard': 9.99,
            'express': 19.99,
            'overnight': 29.99
        };

        // Normalize cart data to avoid NaN (handles legacy/localStorage data)
        function normalizeCartItem(item) {
            if (!item) return null;
            const priceNum = parseFloat(String(item.price).replace(/[^0-9.\-]/g, ''));
            const quantity = parseInt(item.quantity, 10);
            return {
                ...item,
                price: Number.isFinite(priceNum) ? priceNum : 0,
                quantity: Number.isFinite(quantity) && quantity > 0 ? quantity : 1
            };
        }

        function normalizeCartArray(items) {
            if (!Array.isArray(items)) return [];
            return items.map(normalizeCartItem).filter(Boolean);
        }
        
        // Product images from Unsplash (appliance-related)
        const productImages = [
            'https://images.unsplash.com/photo-1584622281867-8d5c815e11c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', // Smart French Door Refrigerator
            'https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', // washer
            'https://i.pinimg.com/1200x/ab/9c/c7/ab9cc7b7aa601511ff34de935cec264c.jpg', // oven
            'https://i.pinimg.com/1200x/63/49/d3/6349d30fc00a0735668fee3adbea387f.jpg', // vacuum
            'https://i.pinimg.com/1200x/b6/6f/f6/b66ff6ca7f7dd135b54ba0e494f98454.jpg', // air purifier
            'https://i.pinimg.com/736x/e7/25/16/e725164aa0059d35b0a258d3e5880bb4.jpg', // microwave
            'https://i.pinimg.com/736x/cc/95/86/cc9586f6994cd5eb8be27497f9a477b7.jpg', // dishwasher
            'https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', // dryer
            'https://i.pinimg.com/736x/d3/bb/dc/d3bbdc27cea843eb9f72f2e41b354eca.jpg', // blender
            'https://images.unsplash.com/photo-1559056199-641a0ac8b55e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', // coffee maker
            'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80', // toaster
            'https://images.unsplash.com/photo-1571175443880-49e1d1b5d50b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80'  // freezer
        ];
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeData();
            loadProducts();
            loadCategories();
            updateCartCount();
            updateUserDisplay();
            showPage('home');
            
            // Set up event listeners for form inputs
            setupFormListeners();
        });
        
        // Initialize sample data
        function initializeData() {
            // Sample products with images
            products = [
                
                { id: 3, name: "Convection Oven with Air Fry", price: 649.99, category: "Kitchen", image: productImages[2], stock: 6, rating: 4.7, description: "https://i.pinimg.com/1200x/ab/9c/c7/ab9cc7b7aa601511ff34de935cec264c.jpg", deal: true, discount: 10 },
                { id: 4, name: "Smart Robot Vacuum with Mapping", price: 349.99, category: "Cleaning", image: productImages[3], stock: 15, rating: 4.4, description: "Self-charging robot vacuum with smart mapping and app control.", deal: true, discount: 20 },
                { id: 5, name: "HEPA Air Purifier for Large Rooms", price: 249.99, category: "Home Comfort", image: productImages[4], stock: 10, rating: 4.2, description: "True HEPA air purifier with smart sensor and auto mode.", deal: false, discount: 0 },
                { id: 6, name: "Over-the-Range Microwave", price: 199.99, category: "Kitchen", image: productImages[5], stock: 20, rating: 4.0, description: "1.7 cu.ft. over-the-range microwave with sensor cooking.", deal: false, discount: 0 },
                { id: 7, name: "Quiet Series Dishwasher", price: 799.99, category: "Kitchen", image: productImages[6], stock: 7, rating: 4.6, description: "Ultra-quiet dishwasher with third rack and sanitize cycle.", deal: false, discount: 0 },
                { id: 9, name: "Professional Blender", price: 129.99, category: "Kitchen", image: productImages[8], stock: 25, rating: 4.5, description: "High-performance blender with 64oz pitcher and multiple speeds.", deal: false, discount: 0 },
            ];
            
            // Sample categories
            categories = [
                { id: 1, name: "Kitchen", count: 8, icon: "utensils" },
                { id: 2, name: "Laundry", count: 2, icon: "tshirt" },
                { id: 3, name: "Cleaning", count: 1, icon: "broom" },
                { id: 4, name: "Home Comfort", count: 1, icon: "fan" }
            ];
            
            // Sample users (in a real app, this would be from a database)
            users = [
                { id: 1, name: "Admin User", email: "admin@example.com", password: "admin123", type: "admin", joinDate: "2023-01-15" },
                { id: 2, name: "John Doe", email: "john@example.com", password: "john123", type: "customer", joinDate: "2023-03-22" },
                { id: 3, name: "Jane Smith", email: "jane@example.com", password: "jane123", type: "customer", joinDate: "2023-05-10" }
            ];
            
            // Sample orders
            orders = [
                { id: 1001, customerId: 2, customerName: "John Doe", date: "2023-10-05", items: 2, total: 1999.98, status: "completed", shipping: "standard" },
                { id: 1002, customerId: 3, customerName: "Jane Smith", date: "2023-10-08", items: 1, total: 299.99, status: "pending", shipping: "express" },
                { id: 1003, customerId: 2, customerName: "John Doe", date: "2023-10-10", items: 3, total: 1149.97, status: "completed", shipping: "standard" },
                { id: 1004, customerId: 3, customerName: "Jane Smith", date: "2023-10-12", items: 1, total: 799.99, status: "shipped", shipping: "overnight" }
            ];
            
            // Load cart from localStorage if available
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                try {
                    cart = normalizeCartArray(JSON.parse(savedCart));
                } catch (e) {
                    cart = [];
                }
            }
            
            // Load current user from localStorage if available
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
            }
        }
        
        // Set up form input listeners
        function setupFormListeners() {
            // Card number formatting
            document.getElementById('card-number')?.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
                let formatted = value.replace(/(\d{4})/g, '$1 ').trim();
                e.target.value = formatted.substring(0, 19);
            });
            
            // Expiry date formatting
            document.getElementById('card-expiry')?.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4);
                }
                e.target.value = value.substring(0, 5);
            });
            
            // CVV formatting
            document.getElementById('card-cvv')?.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0, 3);
            });
            
            // ZIP code formatting
            document.getElementById('checkout-zip')?.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/\D/g, '').substring(0, 5);
            });
            
            // Phone number formatting
            document.getElementById('checkout-phone')?.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 0) {
                    value = '(' + value.substring(0, 3) + ') ' + value.substring(3, 6) + '-' + value.substring(6, 10);
                }
                e.target.value = value.substring(0, 14);
            });
        }
        
        // Page Navigation
        function showPage(pageId) {
            // Update active navigation
            document.querySelectorAll('.nav-menu a').forEach(link => {
                link.classList.remove('active');
            });
            
            // Set active nav for current page
            if (pageId !== 'auth' && pageId !== 'admin' && pageId !== 'checkout') {
                const activeNav = document.querySelector(`.nav-menu a[onclick*="${pageId}"]`);
                if (activeNav) {
                    activeNav.classList.add('active');
                }
            }
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(`${pageId}-page`).classList.add('active');
            
            // Load page-specific content
            if (pageId === 'home') {
                loadFeaturedProducts();
                loadHomeCategories();
            } else if (pageId === 'products') {
                loadAllProducts();
            } else if (pageId === 'categories') {
                loadCategoriesPage();
            } else if (pageId === 'deals') {
                loadDealsProducts();
            } else if (pageId === 'cart') {
                loadCart();
            } else if (pageId === 'checkout') {
                loadCheckout();
            } else if (pageId === 'admin') {
                if (!currentUser || currentUser.type !== 'admin') {
                    showPage('auth');
                    showToast('Admin access required. Please login as admin.', 'warning');
                    return;
                }
                showAdminSection('dashboard');
                loadAdminDashboard();
            }
        }
        
        // Load featured products on home page
        function loadFeaturedProducts() {
            const featuredContainer = document.getElementById('featured-products');
            featuredContainer.innerHTML = '';
            
            // Show first 6 products as featured
            products.slice(0, 6).forEach(product => {
                featuredContainer.innerHTML += createProductCard(product);
            });
            
            // Add event listeners
            addProductEventListeners();
        }
        
        // Load all products on products page
        function loadAllProducts() {
            const productsContainer = document.getElementById('all-products');
            productsContainer.innerHTML = '';
            
            products.forEach(product => {
                productsContainer.innerHTML += createProductCard(product);
            });
            
            // Update product count
            document.getElementById('product-count').textContent = `(${products.length} products)`;
            
            // Add event listeners
            addProductEventListeners();
        }
        
        // Load deals products
        function loadDealsProducts() {
            const dealsContainer = document.getElementById('deals-products');
            dealsContainer.innerHTML = '';
            
            const deals = products.filter(product => product.deal);
            
            deals.forEach(product => {
                dealsContainer.innerHTML += createProductCard(product);
            });
            
            // Add event listeners
            addProductEventListeners();
        }
        
        // Create product card HTML
        function createProductCard(product) {
            const discountPrice = product.deal ? product.price * (1 - product.discount / 100) : product.price;
            const stars = '★'.repeat(Math.floor(product.rating)) + '☆'.repeat(5 - Math.floor(product.rating));
            
            return `
                <div class="product-card">
                    ${product.deal ? `<div class="product-badge">${product.discount}% OFF</div>` : ''}
                    <div class="product-img">
                        <img src="${product.image}" alt="${product.name}" loading="lazy">
                    </div>
                    <div class="product-info">
                        <div class="product-title">${product.name}</div>
                        <div class="product-rating" title="${product.rating} stars">${stars} <span style="color: #666; font-size: 14px;">(${product.rating})</span></div>
                        ${product.deal ? `
                            <div class="product-price">
                                <span style="text-decoration: line-through; color: #999; font-size: 18px;">₱${product.price.toFixed(2)}</span>
                                <span style="color: var(--accent);">₱${discountPrice.toFixed(2)}</span>
                            </div>
                        ` : `
                            <div class="product-price">₱${product.price.toFixed(2)}</div>
                        `}
                        <div class="product-actions">
                            <button class="add-to-cart" data-id="${product.id}">
                                <i class="fas fa-shopping-cart"></i> Add to Cart
                            </button>
                            <div class="wishlist" data-id="${product.id}">
                                <i class="far fa-heart"></i>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // Add event listeners to product cards
        function addProductEventListeners() {
            // Add to cart buttons
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    addToCart(productId);
                });
            });
            
            // Wishlist buttons
            document.querySelectorAll('.wishlist').forEach(button => {
                button.addEventListener('click', function() {
                    const productId = parseInt(this.getAttribute('data-id'));
                    toggleWishlist(productId, this);
                });
            });
        }
        
        // Load categories
        function loadCategories() {
            // This would normally come from an API
        }
        
        // Load categories for home page
        function loadHomeCategories() {
            const categoriesContainer = document.getElementById('home-categories');
            categoriesContainer.innerHTML = '';
            
            categories.forEach(category => {
                const categoryProducts = products.filter(p => p.category === category.name);
                
                categoriesContainer.innerHTML += `
                    <div class="product-card">
                        <div class="product-img">
                            <i class="fas fa-${category.icon}" style="font-size: 60px; color: var(--secondary);"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">${category.name}</div>
                            <div class="product-price">${category.count} Products</div>
                            <div class="product-actions">
                                <button class="btn" onclick="filterByCategory('${category.name}')">Browse Category</button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }
        
        // Load categories page
        function loadCategoriesPage() {
            const categoriesContainer = document.getElementById('categories-list');
            categoriesContainer.innerHTML = '';
            
            categories.forEach(category => {
                const categoryProducts = products.filter(p => p.category === category.name);
                
                categoriesContainer.innerHTML += `
                    <div class="product-card">
                        <div class="product-img">
                            <i class="fas fa-${category.icon}" style="font-size: 60px; color: var(--secondary);"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">${category.name}</div>
                            <div class="product-price">${category.count} Products</div>
                            <div class="product-actions">
                                <button class="btn" onclick="filterByCategory('${category.name}')">Browse Category</button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }
        
        // Filter products by category
        function filterByCategory(categoryName) {
            showPage('products');
            setTimeout(() => {
                const filteredProducts = products.filter(p => p.category === categoryName);
                const productsContainer = document.getElementById('all-products');
                productsContainer.innerHTML = '';
                
                filteredProducts.forEach(product => {
                    productsContainer.innerHTML += createProductCard(product);
                });
                
                // Add event listeners
                addProductEventListeners();
                
                // Update section title
                document.querySelector('#products-page .section-title').innerHTML = `
                    ${categoryName} Appliances 
                    <span style="font-size: 14px; color: #666; font-weight: normal;">(${filteredProducts.length} products)</span>
                `;
            }, 100);
        }
        
        // Cart functionality
        function addToCart(productId) {
            // Ensure cart array is clean
            cart = normalizeCartArray(cart);
            const product = products.find(p => p.id === productId);
            
            if (!product) return;
            
            // Check if product already in cart
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                if (existingItem.quantity < product.stock) {
                    existingItem.quantity++;
                } else {
                    showToast(`Only ${product.stock} units available in stock.`, 'warning');
                    return;
                }
            } else {
                // Calculate price with discount if applicable
                const price = product.deal ? product.price * (1 - product.discount / 100) : product.price;
                
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: Number(price) || 0,
                    quantity: 1,
                    image: product.image,
                    category: product.category
                });
            }
            
            // Save cart to localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Update cart count
            updateCartCount();
            
            // Show confirmation
            showToast(`${product.name} added to cart!`);
        }
        
        function updateCartCount() {
            const totalItems = cart.reduce((total, item) => {
                const qty = parseInt(item.quantity, 10);
                return total + (Number.isFinite(qty) ? qty : 0);
            }, 0);
            const counter = document.querySelector('.cart-count');
            if (counter) {
                counter.textContent = totalItems;
            }
        }
        
        function loadCart() {
            cart = normalizeCartArray(cart);
            const cartContainer = document.getElementById('cart-items');
            const cartSubtotal = document.getElementById('cart-subtotal');
            const cartShipping = document.getElementById('cart-shipping');
            const cartTax = document.getElementById('cart-tax');
            const cartTotal = document.getElementById('cart-total');
            const checkoutBtn = document.getElementById('checkout-btn');
            
            if (cart.length === 0) {
                cartContainer.innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <div style="font-size: 60px; color: #ddd; margin-bottom: 20px;">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h3 style="color: #666; margin-bottom: 10px;">Your cart is empty</h3>
                        <p style="color: #999; margin-bottom: 20px;">Add some products to your cart</p>
                        <button class="btn" onclick="showPage('products')">Browse Products</button>
                    </div>
                `;
                cartSubtotal.textContent = '0.00';
                cartShipping.textContent = '0.00';
                cartTax.textContent = '0.00';
                cartTotal.textContent = '0.00';
                checkoutBtn.disabled = true;
                checkoutBtn.style.opacity = '0.5';
                checkoutBtn.style.cursor = 'not-allowed';
                return;
            }
            
            cartContainer.innerHTML = '';
            let subtotal = 0;
            
            cart.forEach(item => {
                const itemPrice = Number(item.price) || 0;
                const itemQty = Number(item.quantity) || 0;
                const itemTotal = itemPrice * itemQty;
                subtotal += itemTotal;
                
                cartContainer.innerHTML += `
                    <div class="cart-item">
                        <div class="cart-item-img">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-title">${item.name}</div>
                            <div class="cart-item-price">₱${itemPrice.toFixed(2)}</div>
                            <div style="color: #666; font-size: 14px; margin-top: 5px;">Category: ${item.category}</div>
                        </div>
                        <div class="cart-item-actions">
                            <div class="quantity-control">
                                <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                                <span style="min-width: 30px; text-align: center;">${item.quantity}</span>
                                <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                            </div>
                            <div class="remove-item" onclick="removeFromCart(${item.id})" title="Remove item">
                                <i class="fas fa-trash"></i>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            const shipping = selectedShipping === 'standard' ? 9.99 : selectedShipping === 'express' ? 19.99 : 29.99;
            const tax = subtotal * 0.08; // 8% tax
            const total = subtotal + shipping + tax;
            
            cartSubtotal.textContent = subtotal.toFixed(2);
            cartShipping.textContent = shipping.toFixed(2);
            cartTax.textContent = tax.toFixed(2);
            cartTotal.textContent = total.toFixed(2);
            
            checkoutBtn.disabled = false;
            checkoutBtn.style.opacity = '1';
            checkoutBtn.style.cursor = 'pointer';
        }
        
        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            const product = products.find(p => p.id === productId);
            
            if (!item || !product) return;
            
            const newQuantity = item.quantity + change;
            
            if (newQuantity < 1) {
                removeFromCart(productId);
                return;
            }
            
            if (newQuantity > product.stock) {
                showToast(`Only ${product.stock} units available in stock.`, 'warning');
                return;
            }
            
            item.quantity = newQuantity;
            localStorage.setItem('cart', JSON.stringify(cart));
            loadCart();
            updateCartCount();
        }
        
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('cart', JSON.stringify(cart));
            loadCart();
            updateCartCount();
            showToast('Item removed from cart.');
        }
        
        // Checkout functionality
        function loadCheckout() {
            cart = normalizeCartArray(cart);
            if (cart.length === 0) {
                showToast('Your cart is empty! Add items to proceed.', 'warning');
                showPage('cart');
                return;
            }
            
            // Load checkout items
            const checkoutItems = document.getElementById('checkout-items');
            let subtotal = 0;
            
            checkoutItems.innerHTML = '';
            cart.forEach(item => {
                const itemPrice = Number(item.price) || 0;
                const itemQty = Number(item.quantity) || 0;
                const itemTotal = itemPrice * itemQty;
                subtotal += itemTotal;
                
                checkoutItems.innerHTML += `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
                        <div>
                            <div style="font-weight: 500;">${item.name} × ${item.quantity}</div>
                            <div style="font-size: 14px; color: #666;">₱${itemPrice.toFixed(2)} each</div>
                        </div>
                        <div style="font-weight: 600;">₱${itemTotal.toFixed(2)}</div>
                    </div>
                `;
            });
            
            // Calculate totals
            const shipping = shippingRates[selectedShipping];
            const tax = subtotal * 0.08;
            const total = subtotal + shipping + tax;
            
            // Update summary
            document.getElementById('checkout-subtotal').textContent = subtotal.toFixed(2);
            document.getElementById('checkout-shipping').textContent = shipping.toFixed(2);
            document.getElementById('checkout-tax').textContent = tax.toFixed(2);
            document.getElementById('checkout-total').textContent = total.toFixed(2);
            
            // Update cart page totals
            document.getElementById('cart-subtotal').textContent = subtotal.toFixed(2);
            document.getElementById('cart-shipping').textContent = shipping.toFixed(2);
            document.getElementById('cart-tax').textContent = tax.toFixed(2);
            document.getElementById('cart-total').textContent = total.toFixed(2);
            
            // Pre-fill user info if logged in
            if (currentUser) {
                document.getElementById('checkout-name').value = currentUser.name;
                document.getElementById('checkout-email').value = currentUser.email;
            }
            
            // Select default shipping and payment
            selectShipping(selectedShipping);
            selectPayment(selectedPayment);
        }
        
        function selectShipping(method) {
            selectedShipping = method;
            
            // Update UI
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('selected');
            });
            
            document.getElementById(`shipping-${method}`).classList.add('selected');
            
            // Update shipping cost in cart and checkout
            if (cart.length > 0) {
                loadCart();
                loadCheckout();
            }
        }
        
        function selectPayment(method) {
            selectedPayment = method;
            
            // Update UI
            document.querySelectorAll('.payment-method').forEach(el => {
                el.classList.remove('selected');
            });
            
            document.getElementById(`payment-${method}`).classList.add('selected');
            
            // Show/hide credit card form
            const cardForm = document.getElementById('credit-card-form');
            cardForm.style.display = method === 'credit' ? 'block' : 'none';
        }
        
        function placeOrder() {
            // Validate form
            const name = document.getElementById('checkout-name').value;
            const email = document.getElementById('checkout-email').value;
            const phone = document.getElementById('checkout-phone').value;
            const address = document.getElementById('checkout-address').value;
            const city = document.getElementById('checkout-city').value;
            const state = document.getElementById('checkout-state').value;
            const zip = document.getElementById('checkout-zip').value;
            
            if (!name || !email || !phone || !address || !city || !state || !zip) {
                showToast('Please fill all required fields.', 'warning');
                return;
            }
            
            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showToast('Please enter a valid email address.', 'warning');
                return;
            }
            
            // Validate phone
            const phoneRegex = /^\(\d{3}\) \d{3}-\d{4}$/;
            if (!phoneRegex.test(phone) && phone.replace(/\D/g, '').length !== 10) {
                showToast('Please enter a valid phone number (10 digits).', 'warning');
                return;
            }
            
            // Validate ZIP
            if (zip.length !== 5) {
                showToast('Please enter a valid 5-digit ZIP code.', 'warning');
                return;
            }
            
            // Validate credit card if selected
            if (selectedPayment === 'credit') {
                const cardNumber = document.getElementById('card-number').value.replace(/\s/g, '');
                const cardExpiry = document.getElementById('card-expiry').value;
                const cardCVV = document.getElementById('card-cvv').value;
                const cardName = document.getElementById('card-name').value;
                
                if (!cardNumber || !cardExpiry || !cardCVV || !cardName) {
                    showToast('Please fill all credit card details.', 'warning');
                    return;
                }
                
                if (cardNumber.replace(/\D/g, '').length !== 16) {
                    showToast('Please enter a valid 16-digit card number.', 'warning');
                    return;
                }
                
                if (!/^\d{2}\/\d{2}$/.test(cardExpiry)) {
                    showToast('Please enter a valid expiry date (MM/YY).', 'warning');
                    return;
                }
                
                if (cardCVV.length !== 3) {
                    showToast('Please enter a valid 3-digit CVV.', 'warning');
                    return;
                }
            }
            
            // Calculate totals
            const subtotal = cart.reduce((total, item) => {
                const price = Number(item.price) || 0;
                const qty = Number(item.quantity) || 0;
                return total + (price * qty);
            }, 0);
            const shipping = shippingRates[selectedShipping];
            const tax = subtotal * 0.08;
            const total = subtotal + shipping + tax;
            
            // Create order
            const orderId = 1000 + orders.length + 1;
            const orderItems = cart.reduce((total, item) => total + item.quantity, 0);
            
            const newOrder = {
                id: orderId,
                customerId: currentUser ? currentUser.id : 0,
                customerName: name,
                customerEmail: email,
                date: new Date().toISOString().split('T')[0],
                items: orderItems,
                subtotal: subtotal,
                shipping: shipping,
                tax: tax,
                total: total,
                status: 'pending',
                shippingMethod: selectedShipping,
                paymentMethod: selectedPayment,
                address: `${address}, ${city}, ${state} ${zip}`
            };
            
            orders.push(newOrder);
            
            // Update product stock
            cart.forEach(cartItem => {
                const product = products.find(p => p.id === cartItem.id);
                if (product) {
                    product.stock -= cartItem.quantity;
                }
            });
            
            // Clear cart
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            
            // Show order confirmation
            document.getElementById('order-id-display').textContent = `#${orderId}`;
            document.getElementById('order-total-display').textContent = total.toFixed(2);
            showModal('order-modal');
            
            // Show success message
            showToast(`Order #${orderId} placed successfully!`, 'success');
        }
        
        // Toggle wishlist
        function toggleWishlist(productId, element) {
            element.classList.toggle('active');
            element.querySelector('i').classList.toggle('far');
            element.querySelector('i').classList.toggle('fas');
            
            if (element.classList.contains('active')) {
                showToast('Added to wishlist');
            } else {
                showToast('Removed from wishlist');
            }
        }
        
        // Search products
        function searchProducts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            if (!searchTerm) return;
            
            showPage('products');
            setTimeout(() => {
                const filteredProducts = products.filter(p => 
                    p.name.toLowerCase().includes(searchTerm) || 
                    p.category.toLowerCase().includes(searchTerm) ||
                    p.description.toLowerCase().includes(searchTerm)
                );
                
                const productsContainer = document.getElementById('all-products');
                productsContainer.innerHTML = '';
                
                if (filteredProducts.length === 0) {
                    productsContainer.innerHTML = `
                        <div style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                            <div style="font-size: 60px; color: #ddd; margin-bottom: 20px;">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3 style="color: #666; margin-bottom: 10px;">No products found</h3>
                            <p style="color: #999;">No products match your search for "${searchTerm}"</p>
                        </div>
                    `;
                } else {
                    filteredProducts.forEach(product => {
                        productsContainer.innerHTML += createProductCard(product);
                    });
                    
                    // Add event listeners
                    addProductEventListeners();
                }
                
                // Update section title
                document.querySelector('#products-page .section-title').innerHTML = `
                    Search Results for "${searchTerm}"
                    <span style="font-size: 14px; color: #666; font-weight: normal;">(${filteredProducts.length} products)</span>
                `;
            }, 100);
        }
        
        // Authentication
        function setUserType(type) {
            currentUserType = type;
            
            // Update UI
            document.getElementById('customer-btn').classList.remove('active');
            document.getElementById('admin-btn').classList.remove('active');
            document.getElementById(`${type}-btn`).classList.add('active');
            
            // Update form title
            const authTitle = document.getElementById('auth-title');
            const isLogin = document.getElementById('login-form').style.display !== 'none';
            
            if (isLogin) {
                authTitle.textContent = `Login as ${type === 'admin' ? 'Admin' : 'Customer'}`;
            } else {
                authTitle.textContent = `Sign up as ${type === 'admin' ? 'Admin' : 'Customer'}`;
            }
        }
        
        function toggleAuthForm() {
            const loginForm = document.getElementById('login-form');
            const signupForm = document.getElementById('signup-form');
            const authTitle = document.getElementById('auth-title');
            
            if (loginForm.style.display === 'none') {
                // Show login form
                loginForm.style.display = 'block';
                signupForm.style.display = 'none';
                authTitle.textContent = `Login as ${currentUserType === 'admin' ? 'Admin' : 'Customer'}`;
            } else {
                // Show signup form
                loginForm.style.display = 'none';
                signupForm.style.display = 'block';
                authTitle.textContent = `Sign up as ${currentUserType === 'admin' ? 'Admin' : 'Customer'}`;
            }
        }
        
        function login() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                showToast('Please enter email and password', 'warning');
                return;
            }
            
            // Find user
            const user = users.find(u => u.email === email && u.password === password);
            
            if (!user) {
                showToast('Invalid email or password', 'warning');
                return;
            }
            
            // Check if user type matches selected type
            if (currentUserType !== user.type) {
                showToast(`Please login as ${user.type === 'admin' ? 'admin' : 'customer'}`, 'warning');
                return;
            }
            
            // Set current user (without password for security)
            currentUser = {
                id: user.id,
                name: user.name,
                email: user.email,
                type: user.type
            };
            
            // Save to localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update user display
            updateUserDisplay();
            
            // Redirect based on user type
            if (user.type === 'admin') {
                showPage('admin');
                showToast(`Welcome back, ${user.name}!`, 'success');
            } else {
                showPage('home');
                showToast(`Welcome back, ${user.name}!`, 'success');
            }
        }
        
        function signup() {
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm').value;
            
            if (!name || !email || !password || !confirmPassword) {
                showToast('Please fill all fields', 'warning');
                return;
            }
            
            if (password !== confirmPassword) {
                showToast('Passwords do not match', 'warning');
                return;
            }
            
            // Check if user already exists
            const existingUser = users.find(u => u.email === email);
            if (existingUser) {
                showToast('User with this email already exists', 'warning');
                return;
            }
            
            // Create new user
            const newUser = {
                id: users.length + 1,
                name: name,
                email: email,
                password: password,
                type: currentUserType,
                joinDate: new Date().toISOString().split('T')[0]
            };
            
            users.push(newUser);
            
            // Set as current user (without password for security)
            currentUser = {
                id: newUser.id,
                name: newUser.name,
                email: newUser.email,
                type: newUser.type
            };
            
            // Save to localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update user display
            updateUserDisplay();
            
            // Redirect based on user type
            if (currentUserType === 'admin') {
                showToast('Admin account created! Please login with admin credentials.', 'success');
                toggleAuthForm(); // Switch back to login form
            } else {
                showPage('home');
                showToast(`Account created successfully! Welcome, ${name}!`, 'success');
            }
        }
        
        function updateUserDisplay() {
            const userDisplay = document.getElementById('user-display-name');
            if (currentUser) {
                userDisplay.textContent = currentUser.name.split(' ')[0];
            } else {
                userDisplay.textContent = '';
            }
        }
        
        function showUserMenu() {
            if (currentUser) {
                if (currentUser.type === 'admin') {
                    showPage('admin');
                } else {
                    // Show user dropdown/modal (simplified for now)
                    showToast(`Logged in as ${currentUser.name}`, 'info');
                }
            } else {
                showPage('auth');
            }
        }
        
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUserDisplay();
            showPage('home');
            showToast('Logged out successfully.', 'info');
        }
        
        // Admin functionality
        function showAdminSection(section) {
            // Hide all admin sections
            document.getElementById('admin-dashboard').style.display = 'none';
            document.getElementById('admin-products').style.display = 'none';
            document.getElementById('admin-orders').style.display = 'none';
            document.getElementById('admin-users').style.display = 'none';
            document.getElementById('admin-reports').style.display = 'none';
            
            // Show selected section
            document.getElementById(`admin-${section}`).style.display = 'block';
            
            // Update active nav
            document.querySelectorAll('.admin-nav a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Load section data
            if (section === 'dashboard') {
                loadAdminDashboard();
            } else if (section === 'products') {
                loadAdminProducts();
            } else if (section === 'orders') {
                loadAdminOrders();
            } else if (section === 'users') {
                loadAdminUsers();
            } else if (section === 'reports') {
                loadAdminReports();
            }
        }
        
        function loadAdminDashboard() {
            // Update stats
            document.getElementById('total-orders').textContent = orders.length;
            document.getElementById('total-revenue').textContent = '₱' + orders.reduce((total, order) => total + order.total, 0).toFixed(2);
            document.getElementById('total-products').textContent = products.length;
            document.getElementById('total-users').textContent = users.filter(u => u.type === 'customer').length;
            
            // Load recent orders
            const recentOrdersContainer = document.getElementById('recent-orders');
            recentOrdersContainer.innerHTML = '';
            
            const recentOrders = orders.slice(-5).reverse();
            
            recentOrders.forEach(order => {
                const statusClass = `status-${order.status}`;
                recentOrdersContainer.innerHTML += `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.customerName}</td>
                        <td>${order.date}</td>
                        <td>₱${order.total.toFixed(2)}</td>
                        <td><span class="status ${statusClass}">${order.status}</span></td>
                    </tr>
                `;
            });
        }
        
        function loadAdminProducts() {
            const productsContainer = document.getElementById('admin-products-list');
            productsContainer.innerHTML = '';
            
            products.forEach(product => {
                productsContainer.innerHTML += `
                    <tr>
                        <td>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <img src="${product.image}" alt="${product.name}" style="width: 40px; height: 40px; object-fit: cover; border-radius: 5px;">
                                <div>${product.name}</div>
                            </div>
                        </td>
                        <td>${product.category}</td>
                        <td>₱${product.price.toFixed(2)}</td>
                        <td>${product.stock}</td>
                        <td>
                            <button class="btn" style="padding: 5px 10px; font-size: 12px; margin-right: 5px;">Edit</button>
                            <button class="btn" style="padding: 5px 10px; font-size: 12px; background-color: var(--accent);" onclick="deleteProduct(${product.id})">Delete</button>
                        </td>
                    </tr>
                `;
            });
        }
        
        function loadAdminOrders() {
            const ordersContainer = document.getElementById('admin-orders-list');
            ordersContainer.innerHTML = '';
            
            orders.forEach(order => {
                const statusClass = `status-${order.status}`;
                ordersContainer.innerHTML += `
                    <tr>
                        <td>#${order.id}</td>
                        <td>${order.customerName}</td>
                        <td>${order.date}</td>
                        <td>${order.items}</td>
                        <td>₱${order.total.toFixed(2)}</td>
                        <td><span class="status ${statusClass}">${order.status}</span></td>
                        <td>
                            <button class="btn" style="padding: 5px 10px; font-size: 12px; margin-right: 5px;">View</button>
                            <button class="btn" style="padding: 5px 10px; font-size: 12px;" onclick="updateOrderStatus(${order.id}, 'completed')">Complete</button>
                        </td>
                    </tr>
                `;
            });
        }
        
        function loadAdminUsers() {
            const usersContainer = document.getElementById('admin-users-list');
            usersContainer.innerHTML = '';
            
            users.forEach(user => {
                if (user.type === 'customer') {
                    usersContainer.innerHTML += `
                        <tr>
                            <td>${user.name}</td>
                            <td>${user.email}</td>
                            <td>${user.type}</td>
                            <td>${user.joinDate}</td>
                            <td>
                                <button class="btn" style="padding: 5px 10px; font-size: 12px;">View</button>
                            </td>
                        </tr>
                    `;
                }
            });
        }
        
        function loadAdminReports() {
            // Calculate sales data
            const today = new Date().toISOString().split('T')[0];
            const todaySales = orders.filter(o => o.date === today).reduce((sum, o) => sum + o.total, 0);
            
            // This week sales (simplified)
            const weekSales = orders.reduce((sum, o) => sum + o.total, 0) * 0.2; // 20% of total for demo
            
            // This month sales
            const monthSales = orders.reduce((sum, o) => sum + o.total, 0) * 0.5; // 50% of total for demo
            
            // Average order value
            const avgOrder = orders.length > 0 ? orders.reduce((sum, o) => sum + o.total, 0) / orders.length : 0;
            
            // Update stats
            document.getElementById('today-sales').textContent = '₱' + todaySales.toFixed(2);
            document.getElementById('week-sales').textContent = '₱' + weekSales.toFixed(2);
            document.getElementById('month-sales').textContent = '₱' + monthSales.toFixed(2);
            document.getElementById('avg-order').textContent = '₱' + avgOrder.toFixed(2);
            
            // Load top products
            const topProductsContainer = document.getElementById('top-products');
            topProductsContainer.innerHTML = '';
            
            // Sort products by stock (for demo - in real app would be by sales)
            const topProducts = [...products].sort((a, b) => b.stock - a.stock).slice(0, 5);
            
            topProducts.forEach(product => {
                // Simulate sales data
                const sold = 100 - product.stock;
                const revenue = sold * product.price;
                
                topProductsContainer.innerHTML += `
                    <tr>
                        <td>${product.name}</td>
                        <td>${sold}</td>
                        <td>₱${revenue.toFixed(2)}</td>
                        <td>${product.stock}</td>
                    </tr>
                `;
            });
        }
        
        function deleteProduct(productId) {
            if (confirm('Are you sure you want to delete this product?')) {
                products = products.filter(p => p.id !== productId);
                loadAdminProducts();
                showToast('Product deleted successfully', 'success');
            }
        }
        
        function updateOrderStatus(orderId, status) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.status = status;
                loadAdminOrders();
                showToast(`Order #${orderId} marked as ${status}`, 'success');
            }
        }
        
        function showAddProductModal() {
            showToast('Add product form would open here', 'info');
            // In a real application, this would show a modal with a form to add a new product
        }
        
        // Contact form
        function sendMessage() {
            const name = document.getElementById('contact-name').value;
            const email = document.getElementById('contact-email').value;
            const message = document.getElementById('contact-message').value;
            
            if (!name || !email || !message) {
                showToast('Please fill all fields', 'warning');
                return;
            }
            
            showToast(`Thank you for your message, ${name}! We'll get back to you soon.`, 'success');
            
            // Clear form
            document.getElementById('contact-name').value = '';
            document.getElementById('contact-email').value = '';
            document.getElementById('contact-message').value = '';
        }
        
        // Modal functions
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            // Set message and type
            toastMessage.textContent = message;
            
            // Set color based on type
            if (type === 'success') {
                toast.style.backgroundColor = 'var(--success)';
            } else if (type === 'warning') {
                toast.style.backgroundColor = 'var(--warning)';
            } else if (type === 'info') {
                toast.style.backgroundColor = 'var(--secondary)';
            }
            
            // Show toast
            toast.classList.add('show');
            
            // Hide after 3 seconds
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
